
# OpenEvolve Configuration (Stage 2: Optimization)
# Based on your "Part 2" parameters but tailored for Graviton Physics

max_iterations: 500
checkpoint_interval: 20
log_level: "INFO"

# LLM CONFIGURATION (Keeping Local Qwen as requested)
llm:
  primary_model: "qwen3-coder:480b-cloud"
  primary_model_weight: 0.85
  
  api_base: "http://localhost:11434/v1"
  api_key: "aa249496fa974637a67ebe8f05be1e21.bfs5CdlZ_ocSK0O__Guty9w0"
  temperature: 0.7
  top_p: 0.95
  max_tokens: 8192
  timeout: 600

# PROMPT CONFIGURATION (Polish Physics Context)
prompt:
  system_message: |
    Jesteś wybitnym fizykiem teoretycznym. 
    Twoim zadaniem jest udoskonalenie teorii Masywnej Grawitacji (Massive Gravity).
    
    Startujesz z bardzo dobrego rozwiązania (Stage 1 Best). 
    Twoim celem jest optymalizacja i uproszczenie kodu przy zachowaniu idealnych wyników.

    CELE:
    1. H_mg_phenomenological: ~0.7 * H0^2.
    2. rho_quantum: ~0.7 * rho_crit.

    Używaj stałych (c, hbar, M_G_REF).
    Kod musi być poprawnym Pythonem.

  num_top_programs: 4
  use_template_stochasticity: true

database:
  # Moderate-sized population, enough diversity without huge cost
  population_size: 70
  archive_size: 30

  # Island model: balanced diversity vs convergence
  num_islands: 5
  migration_interval: 40      # migrate every ~40 iterations
  migration_rate: 0.12        # ~12% of each island's population migrates

  # Selection / exploitation as you already had
  elite_selection_ratio: 0.3  # top 20% as elites
  exploitation_ratio: 0.6     # half of new programs from exploiting elites

evaluator:
  timeout: 60
  cascade_evaluation: true
  cascade_thresholds: [0.5, 0.8]
  parallel_evaluations: 4
  use_llm_feedback: false

evolution_settings:
  diff_based_evolution: true
  allow_full_rewrites: false
  max_code_length: 10000
