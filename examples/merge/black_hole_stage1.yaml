# Stage 1: Conservative Baseline Establishment
# Goal: Generate syntactically valid programs that pass basic evaluation
# Strategy: Low temperature, gentle mutations, small population

# Top-level
random_seed: 42
log_level: "INFO"
output_dir: "output"
max_iterations: 10            # from max_generations
checkpoint_interval: 5

# LLM configuration (single primary + secondary, local Ollama endpoint)
llm:
  primary_model: "qwen2.5-coder:7b"
  primary_model_weight: 0.8
  secondary_model: "mistral:7b"
  secondary_model_weight: 0.2
  api_base: "http://localhost:11434/v1"
  temperature: 0.3            # conservative for syntax correctness
  top_p: 0.95
  max_tokens: 1024
  timeout: 60

# Prompt configuration
prompt:
  system_message: |
    You are an expert reviewer in quantum information theory and black-hole physics.
    Produce minimal, correct Python that compiles and runs quickly.
    Prioritize physical correctness, numerical stability, and clear APIs.
  num_top_programs: 3
  use_template_stochasticity: false

# Database configuration
database:
  population_size: 25
  archive_size: 12
  num_islands: 1
  elite_selection_ratio: 0.2   # ~5 elites out of 25
  exploitation_ratio: 0.7

# Evaluator configuration
evaluator:
  timeout: 20
  cascade_evaluation: true
  cascade_thresholds: [0.3]
  parallel_evaluations: 2       # from eval_semaphore
  use_llm_feedback: true

# Evolution settings
diff_based_evolution: false     # allow full rewrites in Stage 1
allow_full_rewrites: true
mutation_rate: 0.25
tournament_size: 4

# Task configuration
task: "black_hole"

# Concurrency hints (optional; keep if your runner respects them)
gen_semaphore: 2
eval_semaphore: 2
evaluation:
  enable_sandboxing: false
