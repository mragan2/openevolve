{"id": "bc52daba-5083-45d0-984c-dc9904e2f64b", "code": "import numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.integrate import solve_ivp\nfrom dataclasses import dataclass\nfrom typing import List, Tuple\n\n# Define the SystemState dataclass to store system state\n@dataclass\nclass SystemState:\n    x: float  # Position\n    v: float  # Velocity\n    t: float  # Time\n    mass: float  # Mass\n    entropy: float  # Entropy\n    # Lorentz factor for time dilation\n    gamma: float = 1.0\n\nclass AdvancedPhysics:\n    \"\"\"\n    Enhanced physics model that includes relativity.\n    \"\"\"\n    def __init__(self, gravity: float = 5.0):\n        self.gravity = gravity\n\n    def update(self, state: SystemState) -> SystemState:\n        # Lorentz transformation for gamma\n        gamma = 1 / np.sqrt(1 - (state.v ** 2) / c**2)\n        # Calculate new entropy change\n        entropy_change = abs(state.v - state.v) * abs(state.x - state.x) * 1e-4\n        return SystemState(\n            x=state.x,\n            v=state.v,\n            t=state.t,\n            mass=state.mass,\n            entropy=state.entropy + entropy_change,\n            gamma=gamma\n        )\n\ndef calculate_energy(state: SystemState) -> float:\n    \"\"\"Calculate kinetic energy of the system state.\"\"\"\n    return 0.5 * state.mass * state.v ** 2\n\ndef strange_attractor(x: float) -> float:\n    \"\"\"Simple mathematical function for potential field.\"\"\"\n    return np.sin(x)\n\n# Define the differential equations\ndef physics_eqs(t, state, gravity):\n    x, v = state\n    gamma = 1 / np.sqrt(1 - (v ** 2) / c**2)\n    force_x = -gravity * state[0] / ((state[0] ** 2) + 0.1)\n    acceleration_x = force_x / gamma\n    return [v, acceleration_x]\n\ndef run_simulation(steps: int = 100):\n    physics = AdvancedPhysics(gravity=5.0)\n    \n    initial_state = [10.0, 0.0]\n    t = np.linspace(0, steps * 0.1, steps + 1)\n    sol = solve_ivp(physics_eqs, [0, steps * 0.1], initial_state, args=(physics.gravity,), t_eval=t)\n    \n    history = []\n    for state in zip(sol.y[0], sol.y[1]):\n        gamma = physics.update(SystemState(\n            x=state[0], \n            v=state[1], \n            t=0.0,\n            mass=1.0,\n            entropy=0.0,\n            gamma=1.0\n        ))\n        entropy_ = gamma.entropy\n        history.append(SystemState(\n            x=state[0], \n            v=state[1], \n            t=0.0,\n            mass=1.0,\n            entropy=entropy_,\n            gamma=gamma.gamma\n        ))\n        \n    return history\n\n# Function to demonstrate the simulation\ndef demo():\n    results = run_simulation(20)\n    final = results[-1]\n    return {\n        \"final_pos\": final.x,\n        \"final_time\": final.t,\n        \"is_stable\": abs(final.x) < 1.000\n    }\n\nif __name__ == \"__main__\":\n    print(demo())", "language": "python", "parent_id": "887d157f-cc82-48ec-a1d6-fa6fba327aad", "generation": 5, "timestamp": 1765513022.237406, "iteration_found": 37, "metrics": {"combined_score": 0.0, "syntax": 1.0, "idea_alignment": 0.5, "runtime_stability": 0.0}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Full rewrite", "parent_metrics": {"combined_score": 0.375, "syntax": 1.0, "idea_alignment": 0.375}, "island": 0}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}