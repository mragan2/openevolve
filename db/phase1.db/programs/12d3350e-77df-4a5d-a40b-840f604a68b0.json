{"id": "12d3350e-77df-4a5d-a40b-840f604a68b0", "code": "from dataclasses import dataclass, field\nfrom typing import List\n\n# Constants for better readability\nGRAVITY_CONSTANT = 5.0\nELECTRIC_CONSTANT = 9e9\nDT = 0.1\n\n@dataclass(frozen=True)\nclass PhysicsConfig:\n    gravity: float = GRAVITY_CONSTANT\n    electric_constant: float = ELECTRIC_CONSTANT\n\n@dataclass\nclass SystemState:\n    x: float = 10.0  # Position\n    v: float = 0.0   # Velocity\n    m: float = 1.0   # Mass\n    q: float = 0.1   # Charge\n    t: float = 0.0   # Time\n    e: float = 0.0   # Energy\n\nclass AdvancedPhysicsSimulator:\n    def __init__(self, config: PhysicsConfig):\n        self.config = config\n\n    def force_gravity(self, position, mass):\n        return -self.config.gravity * mass / (position ** 2 + 0.1)\n\n    def force_electric(self, position, charge):\n        return self.config.electric_constant * charge * strange_attractor(position) / (position ** 2)\n\n    def update_state(self, current_state: SystemState) -> SystemState:\n        \"\"\"Update the system state based on advanced physics rules.\"\"\"\n        x = current_state.x\n        v = current_state.v\n        m = current_state.m\n        q = current_state.q\n        \n        # Calculate forces\n        F_gravity = self.force_gravity(x, m)\n        F_electric = self.force_electric(x, q)\n        \n        # Total force and acceleration\n        total_force = F_gravity + F_electric\n        acceleration = total_force / m\n        \n        # Update velocity and position\n        new_velocity = v + acceleration * DT\n        new_position = x + new_velocity * DT\n        new_time = current_state.t + DT\n        \n        # Calculate energy (kinetic)\n        new_energy = 0.5 * m * new_velocity ** 2\n        \n        # Update entropy\n        new_entropy = current_state.entropy + abs(new_energy - current_state.e) * DT * 1e-4\n        \n        return SystemState(\n            x=new_position,\n            v=new_velocity,\n            m=m,\n            q=q,\n            t=new_time,\n            e=new_energy,\n            entropy=new_entropy\n        )\n\ndef strange_attractor(x: float) -> float:\n    \"\"\"Simple mathematical function for potential field.\"\"\"\n    return math.sin(x)\n\ndef run_simulation(steps: int = 100, config: PhysicsConfig = PhysicsConfig()) -> List[SystemState]:\n    simulator = AdvancedPhysicsSimulator(config)\n    history = [SystemState()]\n    \n    for _ in range(steps):\n        current_state = history[-1]\n        new_state = simulator.update_state(current_state)\n        history.append(new_state)\n        \n    return history\n\ndef demo():\n    results = run_simulation(20, config=PhysicsConfig(gravity=5.0))\n    final_state = results[-1]\n    return {\n        \"final_pos\": final_state.x,\n        \"final_time\": final_state.t,\n        \"is_stable\": abs(final_state.x) < 1000.0\n    }\n\nif __name__ == \"__main__\":\n    print(demo())", "language": "python", "parent_id": "8dd333a9-a9c3-4c19-8fd1-11f6ce7cf7f0", "generation": 4, "timestamp": 1765512927.25696, "iteration_found": 31, "metrics": {"combined_score": 0.375, "syntax": 1.0, "idea_alignment": 0.375}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Full rewrite", "parent_metrics": {"combined_score": 0.375, "syntax": 1.0, "idea_alignment": 0.375}, "island": 0}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}