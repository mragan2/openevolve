{"id": "970c73ae-1bf5-441c-9430-408e379d2851", "code": "from __future__ import annotations\nfrom dataclasses import dataclass\nimport math\nfrom typing import List, Optional, Dict\nfrom random import gauss, random, seed\n\n@dataclass\nclass SystemState:  # Complex system state with rich physical properties\n    x: float = 1.0          # Position along X-axis\n    v: float = 0.0           # Velocity in X direction\n    a: float = 0.0          # Acceleration\n    t: float = 0.0           # Proper time\n    p: float = 1.0           # Momentum\n    r: float = 0.0           # Potential energy\n    m: float = 1.0           # Relativistic mass\n    q: float = 0.0           # Electric charge\n    E: float = 0.0           # Electric field (vector)\n    B: float = 0.0           # Magnetic field (vector)\n    s: float = 0.0           # Spin-like degree of freedom\n    entropy: float = 0.0     # Information entropy (bits)\n    \nclass ComplexPhysics:\n    def __init__(self, \n                 grav_const=6.67384e-11,  # Gravitational constant\n                 speed_of_light=2.99792458e8, # Speed of light\n                 boltzmann_k=1.38064852e-23, # Boltzmann constant\n                 elementary_charge=1.602176634e-19): # Elementary charge\n        self.c = speed_of_light\n        self.G = grav_const\n        self.k = boltzmann_k\n        self.e = elementary_charge\n        self.h = 6.62607015e-34  # Planck constant\n        \n    def calculate_force(self, state: SystemState) -> Dict[str, float]:\n        \"\"\"Calculate complex electromagnetic and gravitational forces\"\"\"\n        # Gravitational force (F = G * m1 * m2 / r\u00b2)\n        gravitational_force = (self.G * (state.m ** 2)) / ((state.x ** 2) + 1e-10)\n        \n        # Electromagnetic force (F = q * E)\n        electromagnetic_force = state.q * state.E\n        \n        # Lorentz force (F = q(E + v x B))\n        lorentz_force = state.q * (state.E + state.v * state.B)\n        \n        # Relativistic correction (gamma factor)\n        gamma = 1 / math.sqrt(1 - (state.v ** 2) / self.c ** 2) if state.v < self.c else float('inf')\n        \n        return {\n            'gravitational': gravitational_force,\n            'electromagnetic': electromagnetic_force,\n            'lorentz': lorentz_force,\n            'gamma': gamma\n        }\n    \n    def update(self, state: SystemState, dt: float) -> SystemState:\n        \"\"\"Advance simulation state by dt\"\"\"\n        # Calculate forces\n        forces = self.calculate_force(state)\n        \n        # Update kinematic variables\n        new_v = state.v + forces['lorentz'] * dt\n        new_x = state.x + new_v * dt\n        \n        # Time dilation effect\n        new_t = state.t + dt / forces['gamma']\n        \n        # Momentum and energy\n        new_p = (state.m * new_v) / math.sqrt(1 - (new_v ** 2) / self.c ** 2) if new_v < self.c else float('inf')\n        \n        # Potential energy\n        new_r = state.q * state.E\n        \n        # Quantum uncertainty (Schrodinger-like evolution)\n        uncertainty = gauss(0, 1e-4) * dt\n        \n        # Entropy increase (dS = dQ/T, dQ = dE/dt)\n        new_entropy = state.entropy + abs(new_p - state.p) * dt * 1e-3\n        \n        # Quantum decoherence\n        decoherence = gauss(0, 1e-6) * state.p\n        \n        return SystemState(\n            x=new_x, v=new_v, t=new_t, p=new_p, r=new_r,\n            m=state.m, q=state.q, E=state.E, B=state.B,\n            s=state.s + uncertainty, entropy=new_entropy,\n            a=new_p * (state.s + decoherence)\n        )\n\ndef run_simulation(steps: int = 100) -> List[SystemState]:\n    \"\"\"Run the physics simulation\"\"\"\n    physics = ComplexPhysics()\n    history = [SystemState()]\n    \n    for _ in range(steps):\n        current = history[-1]\n        new_state = physics.update(current, dt=0.1)\n        history.append(new_state)\n    \n    return history\n\ndef demo() -> Dict[str, float]:\n    \"\"\"Run a short demonstration\"\"\"\n    results = run_simulation(50)\n    final = results[-1]\n    return {\n        \"final_position\": abs(final.x),\n        \"final_time\": final.t,\n        \"final_momentum\": final.p,\n        \"is_stable\": abs(final.x) < 1000.0,\n        \"entropy\": final.entropy\n    }\n\nif __name__ == \"__main__\":\n    print(demo())", "language": "python", "parent_id": "8683b290-c8f3-4017-a177-077baf728073", "generation": 3, "timestamp": 1765512539.2082422, "iteration_found": 6, "metrics": {"combined_score": 0.0, "syntax": 1.0, "idea_alignment": 0.5, "runtime_stability": 0.0}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Full rewrite", "parent_metrics": {"combined_score": 0.375, "syntax": 1.0, "idea_alignment": 0.375}, "island": 1}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}