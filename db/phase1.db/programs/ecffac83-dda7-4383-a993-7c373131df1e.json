{"id": "ecffac83-dda7-4383-a993-7c373131df1e", "code": "from __future__ import annotations\nfrom dataclasses import dataclass\nimport math\nfrom typing import List, Dict\n\n@dataclass\nclass SystemState:\n    x: float = 1.0          # Position along X-axis\n    v: float = 0.0           # Velocity in X direction\n    t: float = 0.0           # Proper time\n    p: float = 0.0           # Momentum\n    r: float = 0.0           # Potential energy\n    m: float = 1.0           # Relativistic mass\n    q: float = 0.0           # Electric charge\n    entropy: float = 0.0     # Information entropy (bits)\n\n    def to_dict(self) -> Dict:\n        \"\"\"Convert to dictionary for easier inspection\"\"\"\n        return {\n            'x': self.x,\n            'v': self.v,\n            't': self.t,\n            'p': self.p,\n            'r': self.r,\n            'm': self.m,\n            'q': self.q,\n            'entropy': self.entropy\n        }\n\nclass ComplexPhysics:\n    def __init__(self, grav_const=6.67e-11, speed_of_light=2.998e8, boltzmann_k=1.38e-23):\n        self.G = grav_const\n        self.c = speed_of_light\n        self.k = boltzmann_k\n\n    def calculate_force(self, state: SystemState) -> Dict[str, float]:\n        \"\"\"Calculate complex electromagnetic and gravitational forces\"\"\"\n        forces = {}\n        \n        # Gravitational force (F = G * m1 * m2 / r\u00b2)\n        forces['gravitational'] = (self.G * (state.m ** 2)) / ((state.x ** 2 + 1e-10))\n        \n        # Electromagnetic force (simplified)\n        forces['electromagnetic'] = state.q * (state.E if hasattr(state, 'E') else 0)\n        \n        return forces\n\n    def update(self, state: SystemState, dt: float) -> SystemState:\n        \"\"\"Advance simulation state by dt\"\"\"\n        if dt <= 0:\n            raise ValueError(\"Time step must be positive\")\n        \n        # Calculate forces\n        forces = self.calculate_force(state)\n        \n        # Update kinematic variables with simplified mechanics\n        new_v = state.v + forces['gravitational'] * dt + forces['electromagnetic'] * dt\n        new_x = state.x + new_v * dt\n        \n        # Time dilation effect (simplified)\n        gamma = 1 / math.sqrt(1 - (new_v ** 2) / self.c ** 2)\n        new_t = state.t + dt / gamma if gamma != float('inf') else state.t\n        \n        # Momentum and energy\n        new_p = state.m * new_v / gamma if gamma != float('inf') else float('inf')\n        \n        # Potential energy (simplified)\n        new_r = state.q * (state.E if hasattr(state, 'E') else 0)\n        \n        # Entropy increase (dS = dQ/T, dQ = dE/dt)\n        new_entropy = state.entropy + abs(new_p - state.p) * dt * 1e-3\n        \n        return SystemState(\n            x=new_x, \n            v=new_v, \n            t=new_t, \n            p=new_p, \n            r=new_r,\n            m=state.m, \n            q=state.q,\n            entropy=new_entropy\n        )\n    \n    def simulate_steps(self, steps: int = 100) -> List[SystemState]:\n        \"\"\"Run simulation for specified number of steps\"\"\"\n        if steps <= 0:\n            raise ValueError(\"Number of steps must be positive\")\n        \n        history = [SystemState()]\n        for _ in range(steps):\n            current = history[-1]\n            new_state = self.update(current, dt=0.1)\n            history.append(new_state)\n        return history\n\ndef run_simulation() -> Dict[str, float]:\n    \"\"\"Run a demonstration of the simulation\"\"\"\n    physics = ComplexPhysics()\n    try:\n        history = physics.simulate_steps(50)\n        final = history[-1]\n        return {\n            \"final_position\": abs(final.x),\n            \"final_time\": final.t,\n            \"final_momentum\": final.p,\n            \"is_stable\": abs(final.x) < 1000.0,\n            \"entropy\": final.entropy,\n            \"history_length\": len(history)\n        }\n    except Exception as e:\n        return {\"error\": str(e)}\n\nif __name__ == \"__main__\":\n    result = run_simulation()\n    print(result)", "language": "python", "parent_id": "fba91342-fb89-4990-984e-f25fa38d9dc5", "generation": 5, "timestamp": 1765513176.9894004, "iteration_found": 48, "metrics": {"combined_score": 0.375, "syntax": 1.0, "idea_alignment": 0.375}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Full rewrite", "parent_metrics": {"combined_score": 0.0, "syntax": 1.0, "idea_alignment": 0.5, "runtime_stability": 0.0}, "island": 1}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}