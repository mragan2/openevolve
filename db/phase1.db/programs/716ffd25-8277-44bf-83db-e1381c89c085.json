{"id": "716ffd25-8277-44bf-83db-e1381c89c085", "code": "from dataclasses import dataclass, field\nfrom typing import List\nimport math\n\n# Define constants for better readability\nGRAVITY_CONSTANT = 5.0\nELECTRIC_CHARGE = 1.0\nDT = 0.1\n\n@dataclass\nclass SystemState:\n    x: float = 10.0  # Initial position\n    v: float = 0.0   # Initial velocity\n    t: float = 0.0   # Initial time\n    p: float = 1.0   # Initial momentum\n    e: float = 0.0   # Initial energy\n\n@dataclass(frozen=True)\nclass PhysicsConfig:\n    gravity: float = GRAVITY_CONSTANT  # Gravity constant\n    electric_charge: float = ELECTRIC_CHARGE  # Electric charge\n    dt: float = DT  # Time step\n\nclass PhysicsSimulator:\n    def __init__(self, config: PhysicsConfig):\n        self.config = config\n\n    def update_state(self, current_state: SystemState) -> SystemState:\n        \"\"\"Update the system state based on physics rules.\"\"\"\n        position = current_state.x\n        velocity = current_state.v\n        momentum = current_state.p\n        energy = current_state.e\n        \n        # Calculate gravitational and electric forces\n        grav_force = -self.config.gravity / (position ** 2 + 0.1)\n        elec_force = self.config.electric_charge * math.sin(position)  # Simplified electric force\n        \n        total_force = grav_force + elec_force\n        \n        # Update acceleration, velocity, position, and momentum\n        acceleration = total_force * self.config.dt / momentum if momentum != 0 else 0\n        new_velocity = velocity + acceleration\n        new_position = position + new_velocity * self.config.dt\n        new_momentum = momentum + total_force * self.config.dt\n        \n        # Calculate new energy (simplified for simplicity)\n        new_energy = 0.5 * new_velocity ** 2\n        \n        # Update entropy based on changes in energy\n        new_entropy = current_state.t + abs(new_energy - current_state.e) * self.config.dt * 1e-4\n        \n        return SystemState(\n            x=new_position,\n            v=new_velocity,\n            t=new_momentum,\n            p=new_energy,\n            e=new_entropy\n        )\n\ndef run_simulation(steps: int = 100, config: PhysicsConfig = PhysicsConfig()) -> List[SystemState]:\n    simulator = PhysicsSimulator(config)\n    history = [SystemState()]\n    \n    for _ in range(steps):\n        current_state = history[-1]\n        new_state = simulator.update_state(current_state)\n        history.append(new_state)\n        \n    return history\n\ndef demo():\n    results = run_simulation(20, config=PhysicsConfig(gravity=5.0, electric_charge=1.0))\n    final_state = results[-1]\n    return {\n        \"final_pos\": final_state.x,\n        \"final_time\": final_state.t,\n        \"is_stable\": abs(final_state.x) < 1000.0\n    }\n\nif __name__ == \"__main__\":\n    print(demo())", "language": "python", "parent_id": "8dd333a9-a9c3-4c19-8fd1-11f6ce7cf7f0", "generation": 4, "timestamp": 1765513162.0312705, "iteration_found": 47, "metrics": {"combined_score": 0.375, "syntax": 1.0, "idea_alignment": 0.375}, "complexity": 0.0, "diversity": 0.0, "metadata": {"changes": "Full rewrite", "parent_metrics": {"combined_score": 0.375, "syntax": 1.0, "idea_alignment": 0.375}, "island": 0}, "prompts": null, "artifacts_json": null, "artifact_dir": null, "embedding": null}